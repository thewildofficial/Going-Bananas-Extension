<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Going Bananas - Settings</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="logo">
        <span class="banana-icon">ğŸŒ</span>
        <h1>Going Bananas Settings</h1>
      </div>
      <div class="version">v1.0.0</div>
    </header>

    <!-- Navigation -->
    <nav class="nav-tabs">
      <button class="tab-btn active" data-tab="general">General</button>
      <button class="tab-btn" data-tab="analysis">Analysis</button>
      <button class="tab-btn" data-tab="privacy">Privacy</button>
      <button class="tab-btn" data-tab="about">About</button>
    </nav>

    <!-- General Settings Tab -->
    <div class="tab-content active" id="general">
      <section class="settings-section">
        <h2>General Settings</h2>
        
        <div class="setting-item">
          <div class="setting-info">
            <label for="autoAnalyze">Auto-analyze Terms & Conditions</label>
            <p class="setting-description">Automatically analyze T&C pages when you visit them</p>
          </div>
          <div class="setting-control">
            <input type="checkbox" id="autoAnalyze" class="toggle-switch">
            <label for="autoAnalyze" class="switch-label"></label>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label for="showNotifications">Show Risk Notifications</label>
            <p class="setting-description">Get notified when high-risk terms are detected</p>
          </div>
          <div class="setting-control">
            <input type="checkbox" id="showNotifications" class="toggle-switch">
            <label for="showNotifications" class="switch-label"></label>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label for="riskThreshold">Risk Notification Threshold</label>
            <p class="setting-description">Show notifications for risk scores above this level</p>
          </div>
          <div class="setting-control">
            <input type="range" id="riskThreshold" min="1" max="10" step="0.5" value="6">
            <span class="range-value" id="riskThresholdValue">6.0</span>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label for="apiEndpoint">API Endpoint</label>
            <p class="setting-description">Choose between production API or local development server</p>
          </div>
          <div class="setting-control">
            <select id="apiEndpoint">
              <option value="production">Production (api.goingbananas.dev)</option>
              <option value="local" selected>Local Development (localhost:3000)</option>
              <option value="mock">Mock API (localhost:3001)</option>
            </select>
          </div>
        </div>
      </section>
    </div>

    <!-- Analysis Settings Tab -->
    <div class="tab-content" id="analysis">
      <section class="settings-section">
        <h2>Analysis Configuration</h2>
        
        <div class="setting-item">
          <div class="setting-info">
            <label for="apiKey">Gemini API Key</label>
            <p class="setting-description">Your Google AI Studio API key for Gemini (required for production)</p>
          </div>
          <div class="setting-control">
            <input type="password" id="apiKey" placeholder="Enter your Gemini API key">
            <button type="button" id="toggleApiKey" class="btn-icon">ğŸ‘ï¸</button>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label for="analysisDetail">Analysis Detail Level</label>
            <p class="setting-description">Choose how detailed the analysis should be</p>
          </div>
          <div class="setting-control">
            <select id="analysisDetail">
              <option value="basic">Basic - Quick overview</option>
              <option value="standard" selected>Standard - Detailed analysis</option>
              <option value="comprehensive">Comprehensive - Full breakdown</option>
            </select>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label for="cacheTimeout">Cache Timeout</label>
            <p class="setting-description">How long to cache analysis results</p>
          </div>
          <div class="setting-control">
            <select id="cacheTimeout">
              <option value="3600">1 Hour</option>
              <option value="86400" selected>24 Hours</option>
              <option value="604800">1 Week</option>
              <option value="0">No Caching</option>
            </select>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label>Cache Management</label>
            <p class="setting-description">Manage stored analysis cache</p>
          </div>
          <div class="setting-control">
            <button type="button" id="clearCache" class="btn-secondary">Clear Cache</button>
            <span id="cacheSize" class="cache-info">Calculating...</span>
          </div>
        </div>
      </section>

      <!-- Analysis Categories -->
      <section class="settings-section">
        <h2>Analysis Categories</h2>
        <p class="section-description">Choose which aspects to focus on during analysis</p>
        
        <div class="category-grid">
          <div class="category-item">
            <input type="checkbox" id="analyzePrivacy" checked>
            <label for="analyzePrivacy">
              <span class="category-icon">ğŸ”’</span>
              <span class="category-name">Privacy & Data</span>
              <span class="category-desc">Data collection and usage</span>
            </label>
          </div>
          
          <div class="category-item">
            <input type="checkbox" id="analyzeLiability" checked>
            <label for="analyzeLiability">
              <span class="category-icon">âš–ï¸</span>
              <span class="category-name">Liability</span>
              <span class="category-desc">Legal responsibility clauses</span>
            </label>
          </div>
          
          <div class="category-item">
            <input type="checkbox" id="analyzeTermination" checked>
            <label for="analyzeTermination">
              <span class="category-icon">ğŸšª</span>
              <span class="category-name">Termination</span>
              <span class="category-desc">Account closure policies</span>
            </label>
          </div>
          
          <div class="category-item">
            <input type="checkbox" id="analyzePayment" checked>
            <label for="analyzePayment">
              <span class="category-icon">ğŸ’³</span>
              <span class="category-name">Payment</span>
              <span class="category-desc">Billing and refund terms</span>
            </label>
          </div>
        </div>
      </section>
    </div>

    <!-- Privacy Settings Tab -->
    <div class="tab-content" id="privacy">
      <section class="settings-section">
        <h2>Privacy & Data Protection</h2>
        
        <div class="setting-item">
          <div class="setting-info">
            <label for="sendUsageData">Send Anonymous Usage Data</label>
            <p class="setting-description">Help improve Going Bananas by sending anonymous usage statistics</p>
          </div>
          <div class="setting-control">
            <input type="checkbox" id="sendUsageData" class="toggle-switch">
            <label for="sendUsageData" class="switch-label"></label>
          </div>
        </div>

        <div class="setting-item">
          <div class="setting-info">
            <label for="shareAnalytics">Share Analysis Results</label>
            <p class="setting-description">Help build a community database of T&C analysis (anonymized)</p>
          </div>
          <div class="setting-control">
            <input type="checkbox" id="shareAnalytics" class="toggle-switch">
            <label for="shareAnalytics" class="switch-label"></label>
          </div>
        </div>

        <div class="privacy-info">
          <h3>What We Don't Collect</h3>
          <ul>
            <li>ğŸš« Your personal browsing history</li>
            <li>ğŸš« Identifying information from analyzed pages</li>
            <li>ğŸš« Your personal data or login credentials</li>
            <li>ğŸš« Full text of terms and conditions</li>
          </ul>
          
          <h3>What We May Collect (if enabled)</h3>
          <ul>
            <li>âœ… Extension usage patterns (anonymized)</li>
            <li>âœ… Analysis result summaries (without identifying info)</li>
            <li>âœ… Feature usage statistics</li>
            <li>âœ… Error reports for debugging</li>
          </ul>
        </div>
      </section>
    </div>

    <!-- About Tab -->
    <div class="tab-content" id="about">
      <section class="settings-section">
        <h2>About Going Bananas</h2>
        
        <div class="about-info">
          <div class="logo-large">
            <span class="banana-icon-large">ğŸŒ</span>
            <h3>Going Bananas T&C Analyzer</h3>
            <p class="version-info">Version 1.0.0</p>
          </div>
          
          <p class="description">
            Going Bananas uses advanced AI to help you understand terms and conditions 
            in plain English. Never again wonder what you're signing up for!
          </p>
          
          <div class="feature-highlights">
            <div class="feature">
              <span class="feature-icon">ğŸ¤–</span>
              <span>AI-Powered Analysis</span>
            </div>
            <div class="feature">
              <span class="feature-icon">ğŸ¯</span>
              <span>Risk Assessment</span>
            </div>
            <div class="feature">
              <span class="feature-icon">ğŸ”’</span>
              <span>Privacy Focused</span>
            </div>
            <div class="feature">
              <span class="feature-icon">âš¡</span>
              <span>Instant Results</span>
            </div>
          </div>
        </div>

        <div class="system-status">
          <h3>System Status</h3>
          <div class="status-grid">
            <div class="status-item">
              <span class="status-label">API Connection</span>
              <span class="status-value" id="apiStatus">Checking...</span>
            </div>
            <div class="status-item">
              <span class="status-label">Cache Size</span>
              <span class="status-value" id="aboutCacheSize">Calculating...</span>
            </div>
            <div class="status-item">
              <span class="status-label">Last Analysis</span>
              <span class="status-value" id="lastAnalysis">Never</span>
            </div>
            <div class="status-item">
              <span class="status-label">Total Analyses</span>
              <span class="status-value" id="totalAnalyses">0</span>
            </div>
          </div>
        </div>

        <div class="links-section">
          <h3>Links & Resources</h3>
          <div class="links-grid">
            <a href="https://github.com/goingbananas/extension" target="_blank" class="link-item">
              <span class="link-icon">ğŸ“š</span>
              <span>Documentation</span>
            </a>
            <a href="https://github.com/goingbananas/extension/issues" target="_blank" class="link-item">
              <span class="link-icon">ğŸ›</span>
              <span>Report Issues</span>
            </a>
            <a href="https://goingbananas.dev/privacy" target="_blank" class="link-item">
              <span class="link-icon">ğŸ”’</span>
              <span>Privacy Policy</span>
            </a>
            <a href="https://discord.gg/going-bananas" target="_blank" class="link-item">
              <span class="link-icon">ğŸ’¬</span>
              <span>Community</span>
            </a>
          </div>
        </div>
      </section>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-content">
        <button type="button" id="saveSettings" class="btn-primary">Save Settings</button>
        <button type="button" id="resetSettings" class="btn-secondary">Reset to Defaults</button>
      </div>
      <div class="footer-status">
        <span id="saveStatus" class="save-status"></span>
      </div>
    </footer>
  </div>

  <script src="options.js"></script>
</body>
</html>
